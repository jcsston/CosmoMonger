<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.8" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.8 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.8.xsd">
  <changeSet author="Jory Stone" id="1">
    <comment>Create Inital Tables</comment>
    <createTable tableName="BaseShip">
      <column name="BaseShipId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_BaseShip"/>
      </column>
      <column name="Model" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="BasePrice" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="CargoSpace" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="InitialJumpDriveId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="InitialWeaponId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="InitialShieldId" type="int">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="BuddyList">
      <column name="UserId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="FriendId" type="int">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="User">
      <column name="UserId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_User"/>
      </column>
      <column name="Email" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="UserName" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="Password" type="varchar(32)">
        <constraints nullable="false"/>
      </column>
      <column defaultValueBoolean="false" name="Validated" type="bit">
        <constraints nullable="false"/>
      </column>
      <column defaultValueBoolean="true" name="Active" type="bit">
        <constraints nullable="false"/>
      </column>
      <column defaultValueBoolean="false" name="Admin" type="bit">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="Good">
      <column name="GoodId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_Good"/>
      </column>
      <column name="Name" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="BasePrice" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Contraband" type="bit">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="IgnoreList">
      <column name="UserId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="AntiFriendId" type="int">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="InProgressCombat">
      <column name="AttackerShipId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="DefenderShipId" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="Turn" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="20" name="TurnPointsLeft" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Surrender" type="bit">
        <constraints nullable="false"/>
      </column>
      <column defaultValueBoolean="false" name="JettisonCargo" type="bit">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="JumpDrive">
      <column name="JumpDriveId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_JumpDrive"/>
      </column>
      <column name="Name" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="Speed" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Range" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="CargoCost" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="BasePrice" type="int">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="Message">
      <column name="MessageId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_Message"/>
      </column>
      <column name="RecipientUserId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="SenderUserId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Content" type="TEXT">
        <constraints nullable="false"/>
      </column>
      <column name="Time" type="DATETIME">
        <constraints nullable="false"/>
      </column>
      <column defaultValueBoolean="false" name="Recieved" type="bit">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="Npc">
      <column name="NpcId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_Npc"/>
      </column>
      <column name="NpcTypeId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Name" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="RaceId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="ShipId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Credits" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Badness" type="int"/>
      <column name="Bounty" type="int"/>
    </createTable>
    <createTable tableName="NpcType">
      <column name="NpcTypeId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_NpcType"/>
      </column>
      <column name="Name" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="Player">
      <column name="PlayerId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_Player"/>
      </column>
      <column name="UserId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Name" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="RaceId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Reputation" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="ShipId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="BankCredits" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="CashCredits" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="TimePlayed" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="LastPlayed" type="DATETIME">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="NetWorth" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="BountyTotal" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="HighestBounty" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="ShipsDestroyed" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="ForcedSurrenders" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="ForcedFlees" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="CargoLootedWorth" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="ShipsLost" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="SurrenderCount" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="FleeCount" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueNumeric="0" name="CargoLostWorth" type="int">
        <constraints nullable="false"/>
      </column>
      <column defaultValueBoolean="true" name="Alive" type="bit">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="Race">
      <column name="RaceId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_Race"/>
      </column>
      <column name="Name" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="Weapons" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Shields" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Engine" type="int">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="Shield">
      <column name="ShieldId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_Shield"/>
      </column>
      <column name="Name" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="Strength" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="BasePrice" type="int">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="Ship">
      <column name="ShipId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_Ship"/>
      </column>
      <column name="BaseShipId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="SystemId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="WeaponId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="JumpDriveId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="ShieldId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="DamageEngine" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="DamageWeapon" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="DamageShield" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="DamageHull" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="TargetSystemId" type="int"/>
      <column name="CurrentJumpDriveCharge" type="int"/>
    </createTable>
    <createTable tableName="ShipGood">
      <column name="ShipId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="GoodId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Quantity" type="int">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="System">
      <column name="SystemId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_System"/>
      </column>
      <column name="Name" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="PositionX" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="PositionY" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="HasBank" type="bit">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="SystemGood">
      <column name="SystemId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="GoodId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Quantity" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="PriceMultiplier" type="float(15,0)">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="SystemJumpDriveUpgrade">
      <column name="SystemId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="JumpDriveId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Quantity" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="PriceMultiplier" type="float(15,0)">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="SystemShieldUpgrade">
      <column name="SystemId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="ShieldId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Quantity" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="PriceMultiplier" type="float(15,0)">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="SystemShip">
      <column name="SystemId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="BaseShipId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Quantity" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="PriceMultiplier" type="float(15,0)">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="SystemWeaponUpgrade">
      <column name="SystemId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="WeaponId" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="Quantity" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="PriceMultiplier" type="float(15,0)">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createTable tableName="Weapon">
      <column name="WeaponId" type="int" autoIncrement="true">
        <constraints nullable="false" primaryKey="true" primaryKeyName="PK_Weapon"/>
      </column>
      <column name="Name" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="Power" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="TurnCost" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="CargoCost" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="BasePrice" type="int">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="Jory Stone" id="2">
    <comment>Create Composite Primary Keys</comment>
    <addPrimaryKey columnNames="UserId, FriendId" constraintName="PK_BuddyList" tableName="BuddyList"/>
    <addPrimaryKey columnNames="UserId, AntiFriendId" constraintName="PK_IgnoreList" tableName="IgnoreList"/>
    <addPrimaryKey columnNames="AttackerShipId, DefenderShipId" constraintName="PK_InProgressCombatK" tableName="InProgressCombat"/>
    <addPrimaryKey columnNames="GoodId, ShipId" constraintName="PK_ShipGood" tableName="ShipGood"/>
    <addPrimaryKey columnNames="GoodId, SystemId" constraintName="PK_SystemGood" tableName="SystemGood"/>
    <addPrimaryKey columnNames="JumpDriveId, SystemId" constraintName="PK_SystemJumpDriveUpgrade" tableName="SystemJumpDriveUpgrade"/>
    <addPrimaryKey columnNames="ShieldId, SystemId" constraintName="PK_SystemShieldUpgrade" tableName="SystemShieldUpgrade"/>
    <addPrimaryKey columnNames="BaseShipId, SystemId" constraintName="PK_SystemShip" tableName="SystemShip"/>
    <addPrimaryKey columnNames="WeaponId, SystemId" constraintName="PK_SystemWeaponUpgrade" tableName="SystemWeaponUpgrade"/>
  </changeSet>
  <changeSet author="Jory Stone" id="3">
    <comment>Create Foreign Key Constraints</comment>
    <addForeignKeyConstraint baseColumnNames="InitialJumpDriveId" baseTableName="BaseShip" constraintName="FK_JumpDrive_BaseShip" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="JumpDriveId" referencedTableName="JumpDrive"/>
    <addForeignKeyConstraint baseColumnNames="InitialShieldId" baseTableName="BaseShip" constraintName="FK_Shield_BaseShip" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ShieldId" referencedTableName="Shield"/>
    <addForeignKeyConstraint baseColumnNames="InitialWeaponId" baseTableName="BaseShip" constraintName="FK_Weapon_BaseShip" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="WeaponId" referencedTableName="Weapon"/>
    <addForeignKeyConstraint baseColumnNames="FriendId" baseTableName="BuddyList" constraintName="FK_User_BuddyList_2" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="UserId" referencedTableName="User"/>
    <addForeignKeyConstraint baseColumnNames="UserId" baseTableName="BuddyList" constraintName="FK_User_BuddyList_1" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="UserId" referencedTableName="User"/>
    <addForeignKeyConstraint baseColumnNames="AntiFriendId" baseTableName="IgnoreList" constraintName="FK_User_IgnoreList_2" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="UserId" referencedTableName="User"/>
    <addForeignKeyConstraint baseColumnNames="UserId" baseTableName="IgnoreList" constraintName="FK_User_IgnoreList_1" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="UserId" referencedTableName="User"/>
    <addForeignKeyConstraint baseColumnNames="AttackerShipId" baseTableName="InProgressCombat" constraintName="FK_Ship_InProgressCombat_1" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ShipId" referencedTableName="Ship"/>
    <addForeignKeyConstraint baseColumnNames="DefenderShipId" baseTableName="InProgressCombat" constraintName="FK_Ship_InProgressCombat_2" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ShipId" referencedTableName="Ship"/>
    <addForeignKeyConstraint baseColumnNames="RecipientUserId" baseTableName="Message" constraintName="FK_User_Message_2" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="UserId" referencedTableName="User"/>
    <addForeignKeyConstraint baseColumnNames="SenderUserId" baseTableName="Message" constraintName="FK_User_Message_1" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="UserId" referencedTableName="User"/>
    <addForeignKeyConstraint baseColumnNames="NpcTypeId" baseTableName="Npc" constraintName="FK_NpcType_Npc" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="NpcTypeId" referencedTableName="NpcType"/>
    <addForeignKeyConstraint baseColumnNames="RaceId" baseTableName="Npc" constraintName="FK_Race_Npc" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="RaceId" referencedTableName="Race"/>
    <addForeignKeyConstraint baseColumnNames="ShipId" baseTableName="Npc" constraintName="FK_Ship_Npc" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ShipId" referencedTableName="Ship"/>
    <addForeignKeyConstraint baseColumnNames="RaceId" baseTableName="Player" constraintName="FK_Race_Player" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="RaceId" referencedTableName="Race"/>
    <addForeignKeyConstraint baseColumnNames="ShipId" baseTableName="Player" constraintName="FK_Ship_Player" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ShipId" referencedTableName="Ship"/>
    <addForeignKeyConstraint baseColumnNames="UserId" baseTableName="Player" constraintName="FK_User_Player" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="UserId" referencedTableName="User"/>
    <addForeignKeyConstraint baseColumnNames="BaseShipId" baseTableName="Ship" constraintName="FK_BaseShip_Ship" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="BaseShipId" referencedTableName="BaseShip"/>
    <addForeignKeyConstraint baseColumnNames="JumpDriveId" baseTableName="Ship" constraintName="FK_JumpDrive_Ship" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="JumpDriveId" referencedTableName="JumpDrive"/>
    <addForeignKeyConstraint baseColumnNames="ShieldId" baseTableName="Ship" constraintName="FK_Shield_Ship" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ShieldId" referencedTableName="Shield"/>
    <addForeignKeyConstraint baseColumnNames="SystemId" baseTableName="Ship" constraintName="FK_System_Ship" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="SystemId" referencedTableName="System"/>
    <addForeignKeyConstraint baseColumnNames="WeaponId" baseTableName="Ship" constraintName="FK_Weapon_Ship" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="WeaponId" referencedTableName="Weapon"/>
    <addForeignKeyConstraint baseColumnNames="GoodId" baseTableName="ShipGood" constraintName="FK_Good_ShipGood" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="GoodId" referencedTableName="Good"/>
    <addForeignKeyConstraint baseColumnNames="ShipId" baseTableName="ShipGood" constraintName="FK_Ship_ShipGood" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ShipId" referencedTableName="Ship"/>
    <addForeignKeyConstraint baseColumnNames="GoodId" baseTableName="SystemGood" constraintName="FK_Good_SystemGood" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="GoodId" referencedTableName="Good"/>
    <addForeignKeyConstraint baseColumnNames="SystemId" baseTableName="SystemGood" constraintName="FK_System_SystemGood" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="SystemId" referencedTableName="System"/>
    <addForeignKeyConstraint baseColumnNames="JumpDriveId" baseTableName="SystemJumpDriveUpgrade" constraintName="FK_JumpDrive_SystemJumpDriveUpgrade" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="JumpDriveId" referencedTableName="JumpDrive"/>
    <addForeignKeyConstraint baseColumnNames="SystemId" baseTableName="SystemJumpDriveUpgrade" constraintName="FK_System_SystemJumpDriveUpgrade" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="SystemId" referencedTableName="System"/>
    <addForeignKeyConstraint baseColumnNames="ShieldId" baseTableName="SystemShieldUpgrade" constraintName="FK_Shield_SystemShieldUpgrade" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ShieldId" referencedTableName="Shield"/>
    <addForeignKeyConstraint baseColumnNames="SystemId" baseTableName="SystemShieldUpgrade" constraintName="FK_System_SystemShieldUpgrade" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="SystemId" referencedTableName="System"/>
    <addForeignKeyConstraint baseColumnNames="BaseShipId" baseTableName="SystemShip" constraintName="FK_BaseShip_SystemShip" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="BaseShipId" referencedTableName="BaseShip"/>
    <addForeignKeyConstraint baseColumnNames="SystemId" baseTableName="SystemShip" constraintName="FK_System_SystemShip" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="SystemId" referencedTableName="System"/>
    <addForeignKeyConstraint baseColumnNames="SystemId" baseTableName="SystemWeaponUpgrade" constraintName="FK_System_SystemWeaponUpgrade" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="SystemId" referencedTableName="System"/>
    <addForeignKeyConstraint baseColumnNames="WeaponId" baseTableName="SystemWeaponUpgrade" constraintName="FK_Weapon_SystemWeaponUpgrade" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="WeaponId" referencedTableName="Weapon"/>
  </changeSet>
  <changeSet author="Jory Stone" id="4">
    <comment>Changing the Password column on the User table to a varbinary so we can store the hash directly instead of converting to a string for storage</comment>
    <dropColumn tableName="User" columnName="Password" />
    <addColumn tableName="User">
      <column name="Password" type="varbinary(32)">
        <constraints nullable="false"/>
      </column>
    </addColumn>
  </changeSet>
  <changeSet author="Jory Stone" id="5">
    <comment>Added a CargoCost column to the Shield table</comment>
    <addColumn tableName="Shield">
      <column name="CargoCost" type="int">
        <constraints nullable="false"/>
      </column>
    </addColumn>
  </changeSet>
  <changeSet author="Jory Stone" id="6">
    <comment>Added a TargetSystemArrivalTime column to the Ship table</comment>
    <addColumn tableName="Ship">
      <column name="TargetSystemArrivalTime" type="datetime" />
    </addColumn>
  </changeSet>
  <changeSet author="Jory Stone" id="7">
    <comment>Renamed Recieved column on the Message table to Received.</comment>
    <renameColumn tableName="Message" oldColumnName="Recieved" newColumnName="Received" />
  </changeSet>
  <changeSet author="Jory Stone" id="8">
    <comment>Adding VerificationCode, LastLogin, and LoginAttemptCount columns to the User table</comment>
    <addColumn tableName="User">
      <column name="VerificationCode" type="varchar(32)" />
      <column name="LastLogin" type="datetime" />
      <column name="LoginAttemptCount" type="int" defaultValueNumeric="0">
        <constraints nullable="false"/>
      </column>      
    </addColumn>
  </changeSet>
  <changeSet author="Jory Stone" id="9">
    <comment>Removed VerificationCode column from the User table. No need, for verification the user id would do.</comment>
    <dropColumn tableName="User" columnName="VerificationCode" />
  </changeSet>
  <changeSet author="Jory Stone" id="10">
    <comment>Added a Description column to the Race table</comment>
    <addColumn tableName="Race">
      <column name="Description" type="varchar(255)" />
    </addColumn>
  </changeSet>
  <changeSet author="Jory Stone" id="11">
    <comment>Renamed Model column on the BaseShip table to Name to keep in line with other tables.</comment>
    <renameColumn tableName="BaseShip" oldColumnName="Model" newColumnName="Name" />
  </changeSet>
  <changeSet author="Jory Stone" id="12">
    <comment>Added unique constraints to the table</comment>
    <addUniqueConstraint tableName="User" columnNames="UserName" constraintName="UQ_User_UserName" />
    <addUniqueConstraint tableName="User" columnNames="Email" constraintName="UQ_User_Email" />
    <addUniqueConstraint tableName="System" columnNames="Name" constraintName="UQ_System_Name" />
    <addUniqueConstraint tableName="BaseShip" columnNames="Name" constraintName="UQ_BaseShip_Name" />
    <addUniqueConstraint tableName="Good" columnNames="Name" constraintName="UQ_Good_Name" />
    <addUniqueConstraint tableName="JumpDrive" columnNames="Name" constraintName="UQ_JumpDrive_Name" />
    <addUniqueConstraint tableName="Race" columnNames="Name" constraintName="UQ_Race_Name" />
    <addUniqueConstraint tableName="Shield" columnNames="Name" constraintName="UQ_Shield_Name" />
    <addUniqueConstraint tableName="Weapon" columnNames="Name" constraintName="UQ_Weapon_Name" />
    <addUniqueConstraint tableName="NpcType" columnNames="Name" constraintName="UQ_NpcType_Name" />
    <addUniqueConstraint tableName="Npc" columnNames="Name" constraintName="UQ_Npc_Name" />
  </changeSet>
  <changeSet author="Jory Stone" id="13">
    <comment>Extended the Password column on the User table to a varbinary(64) so we can switch to SHA512</comment>
    <modifyColumn tableName="User">
      <column name="Password" type="varbinary(64)">
        <constraints nullable="false"/>
      </column>
    </modifyColumn>
  </changeSet>
  <changeSet author="Roger Boykin" id="14">
    <comment>Made some changes to the Race Table</comment>
    <dropColumn tableName="Race" columnName="Description"/>
    <addColumn tableName="Race">
      <column name="Accuracy" type="int" />
      <column name="HomeSystem" type="varchar(30)" />
      <column name="RacialEnemy" type="int" />
      <column name="RacialPreference" type="int" />
      <column name="Description" type="varchar(1000)" />
    </addColumn>
  </changeSet>
  <changeSet author="Roger Boykin" id="15">
    <comment>Fixing errors on the Race Table</comment>
    <dropColumn tableName="Race" columnName="HomeSystem"/>
    <addColumn tableName="Race">
      <column name="HomeSystem" type="int" />
    </addColumn>  
    <addForeignKeyConstraint baseColumnNames="HomeSystem" baseTableName="Race" constraintName="FK_SystemId_Race" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="SystemId" referencedTableName="System"/>
  </changeSet>
  <changeSet author="Jory Stone" id="16">
    <comment>Changed the Password column on the User table to a varchar(128) for the switch to the Enterprise Library for hashing needs.</comment>
    <modifyColumn tableName="User">
      <column name="Password" type="varchar(128)">
        <constraints nullable="false"/>
      </column>
    </modifyColumn>
  </changeSet>
  <changeSet author="Jory Stone" id="17">
    <comment>
      Extended the Password column on the User table to varchar(160) to give a little more room hashes. 
      Also reset all passwords to "cosmomonger" to account for varbinary->varchar change.
    </comment>
    <modifyColumn tableName="User">
      <column name="Password" type="varchar(160)">
        <constraints nullable="false"/>
      </column>
    </modifyColumn>
    <update tableName="User">
      <column name="Password" value="VdLTV2HzKIEflxVqixNl5okUPEL7vvtc2SA/ka77+LOZ+anpBSBZfteYxq4s4t7U3V7y21GmXG5Fi0ZH+D9E27e4esE5sHVK6yvfo0FGSBE="/>
    </update>
  </changeSet>
  <changeSet author="Jory Stone" id="18">
    <comment>Adding LastActivity column to User table to keep track of user activity.</comment>
    <addColumn tableName="User">
      <column name="LastActivity" type="datetime" />
    </addColumn>
  </changeSet>
  <changeSet author="Roger Boykin" id="19">
    <comment>Changing HomeSystem, RacialPreference, RacialEnemy in Race Table to have Id on end.
    Changing Accuracy, HomeSystemId, RacialEnemyId, and Description in Race Table to not null.
    Providing a default null value to Accuracy, HomeSystemId, RacialEnemyId and Description in Race Table.</comment>
    <renameColumn tableName="Race" oldColumnName="HomeSystem" newColumnName="HomeSystemId" />
    <renameColumn tableName="Race" oldColumnName="RacialPreference" newColumnName="RacialPreferenceId" />
    <renameColumn tableName="Race" oldColumnName="RacialEnemy" newColumnName="RacialEnemyId" />
    <addNotNullConstraint tableName="Race" columnName="Accuracy" defaultNullValue="0" columnDataType="int" />
    <addNotNullConstraint tableName="Race" columnName="HomeSystemId" defaultNullValue="1" columnDataType="int" />
    <addNotNullConstraint tableName="Race" columnName="RacialEnemyId" defaultNullValue="1" columnDataType="int" />
    <addNotNullConstraint tableName="Race" columnName="Description" defaultNullValue="Needs a Description" columnDataType="varchar(1000)"/>
  </changeSet>
  <changeSet author="Jory Stone" id="20">
    <comment>Providing a default null value to Accuracy, HomeSystemId, RacialEnemyId and Description in Race Table.</comment>
    <modifyColumn tableName="Race">
      <column name="Accuracy" type="int" defaultValueNumeric="0">
        <constraints nullable="false" />
      </column>
      <column name="HomeSystemId" type="int" defaultValueNumeric="1">
        <constraints nullable="false" />
      </column>
      <column name="RacialEnemyId" type="int" defaultValueNumeric="1">
        <constraints nullable="false" />
      </column>
      <column name="Description" type="varchar(1000)" defaultValue="Needs a Description">
        <constraints nullable="false" />
      </column>
    </modifyColumn>
  </changeSet>
  <changeSet author="Jory Stone" id="21">
    <comment>Clear out old data in the database to prepare it for changelog managed data.</comment>
    <sql>
      DELETE FROM Player;
      DELETE FROM ShipGood;
      DELETE FROM Ship;
      DELETE FROM Race;
      DELETE FROM SystemGood;
      DELETE FROM SystemShip;
      DELETE FROM System;
      DELETE FROM Good;
      DELETE FROM BaseShip;
      DELETE FROM Shield;
      DELETE FROM Weapon;
      DELETE FROM JumpDrive;
    </sql>
  </changeSet>
  <changeSet author="Jory Stone" id="22">
    <comment>Adding JumpDrive data</comment>
    <sql>SET IDENTITY_INSERT JumpDrive ON</sql>
    <insert tableName="JumpDrive">
      <column name="JumpDriveId" valueNumeric="1" />
      <column name="Name" value="Rocket" />
      <column name="Speed" valueNumeric="5" />
      <column name="Range" valueNumeric="10" />
      <column name="CargoCost" valueNumeric="0" />
      <column name="BasePrice" valueNumeric="1000" />
    </insert>
    <insert tableName="JumpDrive">
      <column name="JumpDriveId" valueNumeric="2" />
      <column name="Name" value="Nuclear" />
      <column name="Speed" valueNumeric="5" />
      <column name="Range" valueNumeric="15" />
      <column name="CargoCost" valueNumeric="2" />
      <column name="BasePrice" valueNumeric="10000" />
    </insert>
    <insert tableName="JumpDrive">
      <column name="JumpDriveId" valueNumeric="3" />
      <column name="Name" value="Plasma" />
      <column name="Speed" valueNumeric="3" />
      <column name="Range" valueNumeric="15" />
      <column name="CargoCost" valueNumeric="5" />
      <column name="BasePrice" valueNumeric="25000" />
    </insert>
    <insert tableName="JumpDrive">
      <column name="JumpDriveId" valueNumeric="4" />
      <column name="Name" value="Light" />
      <column name="Speed" valueNumeric="1" />
      <column name="Range" valueNumeric="20" />
      <column name="CargoCost" valueNumeric="10" />
      <column name="BasePrice" valueNumeric="10000" />
    </insert>
    <sql>SET IDENTITY_INSERT JumpDrive OFF</sql>
  </changeSet>
  <changeSet author="Jory Stone" id="23">
    <comment>Adding Shield data</comment>
    <sql>SET IDENTITY_INSERT Shield ON</sql>
    <insert tableName="Shield">
      <column name="ShieldId" valueNumeric="1" />
      <column name="Name" value="Force Field" />
      <column name="Strength" valueNumeric="10" />
      <column name="CargoCost" valueNumeric="1" />
      <column name="BasePrice" valueNumeric="100" />
    </insert>
    <sql>SET IDENTITY_INSERT Shield OFF</sql>
  </changeSet>
  <changeSet author="Jory Stone" id="24">
    <comment>Adding Weapon data</comment>
    <sql>SET IDENTITY_INSERT Weapon ON</sql>
    <insert tableName="Weapon">
      <column name="WeaponId" valueNumeric="1" />
      <column name="Name" value="Railgun" />
      <column name="Power" valueNumeric="8" />
      <column name="TurnCost" valueNumeric="2" />
      <column name="CargoCost" valueNumeric="0" />
      <column name="BasePrice" valueNumeric="1000" />
    </insert>
    <insert tableName="Weapon">
      <column name="WeaponId" valueNumeric="2" />
      <column name="Name" value="Laser" />
      <column name="Power" valueNumeric="5" />
      <column name="TurnCost" valueNumeric="1" />
      <column name="CargoCost" valueNumeric="2" />
      <column name="BasePrice" valueNumeric="10000" />
    </insert>
    <insert tableName="Weapon">
      <column name="WeaponId" valueNumeric="3" />
      <column name="Name" value="Missile" />
      <column name="Power" valueNumeric="15" />
      <column name="TurnCost" valueNumeric="2" />
      <column name="CargoCost" valueNumeric="5" />
      <column name="BasePrice" valueNumeric="250000" />
    </insert>
    <insert tableName="Weapon">
      <column name="WeaponId" valueNumeric="4" />
      <column name="Name" value="Newtonian" />
      <column name="Power" valueNumeric="15" />
      <column name="TurnCost" valueNumeric="1" />
      <column name="CargoCost" valueNumeric="10" />
      <column name="BasePrice" valueNumeric="1000000" />
    </insert>
    <sql>SET IDENTITY_INSERT Weapon OFF</sql>
  </changeSet>
  <changeSet author="Jory Stone" id="25">
    <comment>Adding BaseShip data</comment>
    <sql>SET IDENTITY_INSERT BaseShip ON</sql>
    <insert tableName="BaseShip">
      <column name="BaseShipId" valueNumeric="1" />
      <column name="Name" value="Glorified Trash Can" />
      <column name="BasePrice" valueNumeric="5000" />
      <column name="CargoSpace" valueNumeric="25" />
      <column name="InitialJumpDriveId" valueNumeric="1" />
      <column name="InitialWeaponId" valueNumeric="1" />
      <column name="InitialShieldId" valueNumeric="1" />
    </insert>
    <insert tableName="BaseShip">
      <column name="BaseShipId" valueNumeric="2" />
      <column name="Name" value="Rover" />
      <column name="BasePrice" valueNumeric="25000" />
      <column name="CargoSpace" valueNumeric="35" />
      <column name="InitialJumpDriveId" valueNumeric="2" />
      <column name="InitialWeaponId" valueNumeric="2" />
      <column name="InitialShieldId" valueNumeric="1" />
    </insert>
    <insert tableName="BaseShip">
      <column name="BaseShipId" valueNumeric="3" />
      <column name="Name" value="Widow Maker" />
      <column name="BasePrice" valueNumeric="750000" />
      <column name="CargoSpace" valueNumeric="50" />
      <column name="InitialJumpDriveId" valueNumeric="3" />
      <column name="InitialWeaponId" valueNumeric="4" />
      <column name="InitialShieldId" valueNumeric="1" />
    </insert>
    <insert tableName="BaseShip">
      <column name="BaseShipId" valueNumeric="4" />
      <column name="Name" value="Dagger" />
      <column name="BasePrice" valueNumeric="2500000" />
      <column name="CargoSpace" valueNumeric="100" />
      <column name="InitialJumpDriveId" valueNumeric="4" />
      <column name="InitialWeaponId" valueNumeric="3" />
      <column name="InitialShieldId" valueNumeric="1" />
    </insert>
    <insert tableName="BaseShip">
      <column name="BaseShipId" valueNumeric="5" />
      <column name="Name" value="Weed Wacker" />
      <column name="BasePrice" valueNumeric="10000000" />
      <column name="CargoSpace" valueNumeric="255" />
      <column name="InitialJumpDriveId" valueNumeric="4" />
      <column name="InitialWeaponId" valueNumeric="4" />
      <column name="InitialShieldId" valueNumeric="1" />
    </insert>
    <sql>SET IDENTITY_INSERT BaseShip OFF</sql>
  </changeSet>
  <changeSet author="Jory Stone" id="26">
    <comment>Update BaseShip models with updated cargo space amounts</comment>
    <update tableName="BaseShip">
      <column name="CargoSpace" valueNumeric="75"/>
      <where>BaseShipId=4</where>
    </update>
    <update tableName="BaseShip">
      <column name="CargoSpace" valueNumeric="110"/>
      <where>BaseShipId=5</where>
    </update>
  </changeSet>
  <changeSet author="Jory Stone, Roger Boykin" id="27">
    <comment>Insert Good data</comment>
    <sql>SET IDENTITY_INSERT Good ON</sql>
    <insert tableName="Good">
      <column name="GoodId" valueNumeric="1" />
      <column name="Name" value="FoodCubes" />
      <column name="BasePrice" valueNumeric="40" />
      <column name="Contraband" valueBoolean="false" />
    </insert>
    <insert tableName="Good">
      <column name="GoodId" valueNumeric="2" />
      <column name="Name" value="Water" />
      <column name="BasePrice" valueNumeric="30" />
      <column name="Contraband" valueBoolean="false" />
    </insert>
    <insert tableName="Good">
      <column name="GoodId" valueNumeric="3" />
      <column name="Name" value="Machine Parts" />
      <column name="BasePrice" valueNumeric="75" />
      <column name="Contraband" valueBoolean="false" />
    </insert>
    <insert tableName="Good">
      <column name="GoodId" valueNumeric="4" />
      <column name="Name" value="DeathRays" />
      <column name="BasePrice" valueNumeric="150" />
      <column name="Contraband" valueBoolean="true" />
    </insert>
    <insert tableName="Good">
      <column name="GoodId" valueNumeric="5" />
      <column name="Name" value="Zowie" />
      <column name="BasePrice" valueNumeric="100" />
      <column name="Contraband" valueBoolean="true" />
    </insert>
    <insert tableName="Good">
      <column name="GoodId" valueNumeric="6" />
      <column name="Name" value="Fuel Rods" />
      <column name="BasePrice" valueNumeric="50" />
      <column name="Contraband" valueBoolean="false" />
    </insert>
    <insert tableName="Good">
      <column name="GoodId" valueNumeric="7" />
      <column name="Name" value="LuvBots" />
      <column name="BasePrice" valueNumeric="125" />
      <column name="Contraband" valueBoolean="true" />
    </insert>
    <insert tableName="Good">
      <column name="GoodId" valueNumeric="8" />
      <column name="Name" value="Fullerene" />
      <column name="BasePrice" valueNumeric="60" />
      <column name="Contraband" valueBoolean="false" />
    </insert>
    <insert tableName="Good">
      <column name="GoodId" valueNumeric="9" />
      <column name="Name" value="Nanites" />
      <column name="BasePrice" valueNumeric="175" />
      <column name="Contraband" valueBoolean="true" />
    </insert>
    <insert tableName="Good">
      <column name="GoodId" valueNumeric="10" />
      <column name="Name" value="Artificial Intelligences" />
      <column name="BasePrice" valueNumeric="200" />
      <column name="Contraband" valueBoolean="false" />
    </insert>
    <sql>SET IDENTITY_INSERT Good OFF</sql>
  </changeSet>
  <changeSet author="Jory Stone, Roger Boykin" id="28">
    <comment>Insert System data</comment>
    <sql>SET IDENTITY_INSERT System ON</sql>
    <insert tableName="System">
      <column name="SystemId" valueNumeric="1" />
      <column name="Name" value="Sol" />
      <column name="PositionX" valueNumeric="0" />
      <column name="PositionY" valueNumeric="0" />
      <column name="HasBank" valueBoolean="true" />
    </insert>
    <insert tableName="System">
      <column name="SystemId" valueNumeric="2" />
      <column name="Name" value="Vance's Folly" />
      <column name="PositionX" valueNumeric="6" />
      <column name="PositionY" valueNumeric="3" />
      <column name="HasBank" valueBoolean="false" />
    </insert>
    <insert tableName="System">
      <column name="SystemId" valueNumeric="3" />
      <column name="Name" value="Glop" />
      <column name="PositionX" valueNumeric="15" />
      <column name="PositionY" valueNumeric="2" />
      <column name="HasBank" valueBoolean="true" />
    </insert>
    <insert tableName="System">
      <column name="SystemId" valueNumeric="4" />
      <column name="Name" value="Sigle" />
      <column name="PositionX" valueNumeric="20" />
      <column name="PositionY" valueNumeric="10" />
      <column name="HasBank" valueBoolean="true" />
    </insert>
    <insert tableName="System">
      <column name="SystemId" valueNumeric="5" />
      <column name="Name" value="Quantum 5" />
      <column name="PositionX" valueNumeric="12" />
      <column name="PositionY" valueNumeric="19" />
      <column name="HasBank" valueBoolean="true" />
    </insert>
    <insert tableName="System">
      <column name="SystemId" valueNumeric="6" />
      <column name="Name" value="0011111010" />
      <column name="PositionX" valueNumeric="3" />
      <column name="PositionY" valueNumeric="23" />
      <column name="HasBank" valueBoolean="false" />
    </insert>
    <insert tableName="System">
      <column name="SystemId" valueNumeric="7" />
      <column name="Name" value="D2O" />
      <column name="PositionX" valueNumeric="25" />
      <column name="PositionY" valueNumeric="23" />
      <column name="HasBank" valueBoolean="false" />
    </insert>
    <insert tableName="System">
      <column name="SystemId" valueNumeric="8" />
      <column name="Name" value="Last Chance" />
      <column name="PositionX" valueNumeric="8" />
      <column name="PositionY" valueNumeric="12" />
      <column name="HasBank" valueBoolean="false" />
    </insert>
    <insert tableName="System">
      <column name="SystemId" valueNumeric="9" />
      <column name="Name" value="Haven" />
      <column name="PositionX" valueNumeric="18" />
      <column name="PositionY" valueNumeric="16" />
      <column name="HasBank" valueBoolean="true" />
    </insert>
    <insert tableName="System">
      <column name="SystemId" valueNumeric="10" />
      <column name="Name" value="1111101000" />
      <column name="PositionX" valueNumeric="4" />
      <column name="PositionY" valueNumeric="15" />
      <column name="HasBank" valueBoolean="true" />
    </insert>
    <sql>SET IDENTITY_INSERT System OFF</sql>
  </changeSet>
  <changeSet author="Jory Stone, Roger Boykin" id="29">
    <comment>Add Race data</comment>
    <sql>SET IDENTITY_INSERT Race ON</sql>
    <insert tableName="Race">
      <column name="RaceId" valueNumeric="1" />
      <column name="Name" value="Skumm" />
      <column name="Description" value="The Skumm are colonies of highly evolved algae who were once content to simply float on the surface of their watery planet.  When a Decapodian scouting expedition set down on their home planet, the Skumm learned that aliens existed in their universe.   An inquisitive people, the Skumm sent an ambassador to greet the aliens.  The Skumm watched in horror as the Decapodian captain consumed their diplomat with a giant straw!  Thus began the Skumm-Crab War.  The two races have learned a modicum of restraint since the war concluded but they still do not trust each other." />
      <column name="Weapons" valueNumeric="0" />
      <column name="Shields" valueNumeric="-1" />
      <column name="Accuracy" valueNumeric="0" />
      <column name="Engine" valueNumeric="1" />
      <column name="HomeSystemId" valueNumeric="7" />
    </insert>
    <insert tableName="Race">
      <column name="RaceId" valueNumeric="2" />
      <column name="Name" value="Decapodians" />
      <column name="Description" value="Although slow and ponderous, these crab-like aliens were the first to achieve interstellar travel in this sector.  They were also the first to start an interstellar war when one of their captains consumed the ambassador representing the Skumm nation during a scouting expedition to system D2O.  Although the resulting Skumm-Crab War has officially concluded, bad blood exists between the two races to this day." />
      <column name="Weapons" valueNumeric="0" />
      <column name="Shields" valueNumeric="1" />
      <column name="Accuracy" valueNumeric="0" />
      <column name="Engine" valueNumeric="-1" />
      <column name="HomeSystemId" valueNumeric="3" />
    </insert>
    <insert tableName="Race">
      <column name="RaceId" valueNumeric="3" />
      <column name="Name" value="Binarites" />
      <column name="Description" value="Binarites are artificial intelligences that were created by the Schrodinoids to run their space ships.  A schism developed between the Binarites and their masters when the Schrodinoids began to require their machine slaves to show homage to their prophet known as The Uncertain One.  As ardent proponents of relativistic physics, the Schrodinoids found this worship of quantum mechanics highly unsettling.  The Binarites won their freedom in the resulting revolution.  Now the Binarites seek only to bring logic to an illogical universe." />
      <column name="Weapons" valueNumeric="-1" />
      <column name="Shields" valueNumeric="0" />
      <column name="Accuracy" valueNumeric="1" />
      <column name="Engine" valueNumeric="0" />
      <column name="HomeSystemId" valueNumeric="10" />
    </insert>
    <insert tableName="Race">
      <column name="RaceId" valueNumeric="4" />
      <column name="Name" value="Schrodinoids" />
      <column name="Description" value="Schrodinoids are feline bipeds who gained dominance over the other life forms in the Quantum 5 system.  While many other races have used physics to reach the stars, Schrodinoids are unique because their belief in quantum mechanics grew so strong that it became their dominant religion.   The combination of feline appearance and fanatical belief in quantum mechanics led to their being nicknamed - Schrodingers Kitties." />
      <column name="Weapons" valueNumeric="1" />
      <column name="Shields" valueNumeric="0" />
      <column name="Accuracy" valueNumeric="-1" />
      <column name="Engine" valueNumeric="0" />
      <column name="HomeSystemId" valueNumeric="5" />
    </insert>
    <insert tableName="Race">
      <column name="RaceId" valueNumeric="5" />
      <column name="Name" value="Humans" />
      <column name="Description" value="Humans are the relative newcomers to this sector of space.  The majority of humans are located in the densely populated Sol system, but during recent years, more humans have decided to leave their home system and try their luck out here.  Most of these immigrant humans want nothing to do with others of their own species, having endured the pervasive overcrowding for most of their lives." />
      <column name="Weapons" valueNumeric="1" />
      <column name="Shields" valueNumeric="1" />
      <column name="Accuracy" valueNumeric="-1" />
      <column name="Engine" valueNumeric="-1" />
      <!-- Sol is the home system of the Humans -->
      <column name="HomeSystemId" valueNumeric="1" />
    </insert>
    <sql>SET IDENTITY_INSERT Race OFF</sql>
  </changeSet>
  <changeSet author="Jory Stone" id="30">
    <comment>Update Race with enemies and preferences</comment>
    <update tableName="Race">
      <!-- Adding Skumm Racial Enemy to Race Table -->
      <column name="RacialEnemyId" valueNumeric="2"/>
      <!-- Adding Skumm Racial Preference to Race Table -->
      <column name="RacialPreferenceId" valueNumeric="1"/>
      <where>RaceId=1</where>
    </update>
    <update tableName="Race">
      <!-- Adding Decapodian Racial Enemy to Race Table -->
      <column name="RacialEnemyId" valueNumeric="1" />
      <where>RaceId=2</where>
    </update>
    <update tableName="Race">
      <!-- Adding Binarite Racial Enemy to Race Table -->
      <column name="RacialEnemyId" valueNumeric="4"/>
      <!-- Adding Decapodian Racial Preference to Race Table -->
      <column name="RacialPreferenceId" valueNumeric="3"/>
      <where>RaceId=3</where>
    </update>
    <update tableName="Race">
      <!-- Adding Schrodinoid Racial Enemy to Race Table -->
      <column name="RacialEnemyId" valueNumeric="3"/>
      <!-- Adding Binarite Racial Preference to Race Table -->
      <column name="RacialPreferenceId" valueNumeric="4"/>
      <where>RaceId=4</where>
    </update>
    <update tableName="Race">
      <!-- Adding Schrodinoid Racial Preference to Race Table -->
      <column name="RacialEnemyId" valueNumeric="5"/>
      <!-- Adding Human Racial Enemy to Race Table -->
      <column name="RacialPreferenceId" valueNumeric="5"/>
      <where>RaceId=5</where>
    </update>
  </changeSet>
  <changeSet author="Jory Stone" id="31">
    <comment>Add more foreign key constraints to Race table</comment>
    <dropForeignKeyConstraint constraintName="FK_SystemId_Race" baseTableName="Race"/>
    <addForeignKeyConstraint baseColumnNames="HomeSystemId" baseTableName="Race" constraintName="FK_System_Race_HomeSystemId" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="SystemId" referencedTableName="System"/>
    <addForeignKeyConstraint baseColumnNames="RacialEnemyId" baseTableName="Race" constraintName="FK_Race_Race_RacialEnemyId" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="RaceId" referencedTableName="Race"/>
    <addForeignKeyConstraint baseColumnNames="RacialPreferenceId" baseTableName="Race" constraintName="FK_Race_Race_RacialPreferenceId" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="RaceId" referencedTableName="Race"/>
  </changeSet>
  <changeSet author="Jory Stone, Roger Boykin" id="32">
    <comment>Updating Binarites Race Description</comment>
    <update tableName="Race">
      <column name="Description" value="Binarites are artificial intelligences that were created by the Schrodinoids to run their space ships.  A schism developed between the Binarites and their masters when the Schrodinoids began to require their machine slaves to show homage to their prophet known as The Uncertain One.  As ardent proponents of relativistic physics, the Binarites found this worship of quantum mechanics highly unsettling.   The Binarites won their freedom in the resulting revolution.  Now the Binarites seek only to bring logic to an illogical universe."/>
      <where>RaceId=5</where>
    </update>
  </changeSet>
  <changeSet author="Jory Stone" id="33">
    <comment>Move the Sol system to 1,1</comment>
    <update tableName="System">
      <column name="PositionX" valueNumeric="1"/>
      <column name="PositionY" valueNumeric="1"/>
      <where>SystemId=1</where>
    </update>
  </changeSet>
</databaseChangeLog>
